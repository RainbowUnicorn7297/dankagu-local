import grpc

from takasho.packer import packer
from takasho.schema.common_featureset.player_api import player_key_value_store_pb2


if __name__ == '__main__':
    # Debug packer
    # print(bytes.hex(packer.unpack(bytes.fromhex(''))))
    # Debug gRPC message
    print(player_key_value_store_pb2.PlayerKeyValueStoreIncrementPlayerKeyValuesAndSavePlayerStorageV1.Response.FromString(packer.unpack(bytes.fromhex('9c6dca194cce43eb275bfc9db30899b6344657e75cc3a57fd7714dafb6da5f06d34bdca421aaa59c60c5ddab6a7ec6b1b40eb6ad11e119377b169b29764c3fb24dde3460868042a4a2005f880336c3e38270bcea81de652b8057544c93f7d81b820ea8d69d7485401461b14da52dd36a8743f8c3e6ca6bdad75fee024a6118cde5c076b6c8fc7068e36b043736047c8513be10eb982b6047b3435df4eb357763a301a06751d5c68e9c65083e9ac3b9789fead4d7fd9378af5a98b6f6aba4fc7cde233358c3f551a00134c1613c1843c6dd7b5e707919cb101f56dd8a7e8be75e053ba5d6332ed52efe3f7e8f8596e512c80c3e9403713fdbc725409f4f099b813dc79edf2212f4919a85b5d0bd80db82202b9cb9969e253473'))))
    # response = player_storage_pb2.PlayerStorageGetEntriesV2.Response.FromString(packer.unpack(bytes.fromhex('d605708b66d809b276bf8fa0dfee542542d347695e33794efa95f2d096d76ed9f9285450083b0e3527e3110600914162d12e33f311f3132609cd26cbbb7a33475ff7b2abad9b05674f7881d95d144ef8db38dfcc8083dbfeb9fc57f963c2410ab03febe281c6cebaaf79fcd005d8a782cda706783c961140dc17b767e0b7c615c33441fd93a19891bfb78739b21f7ac45492ea47d91988b8816fb852dc1b43717bd0a8bd98a347db72dc3555a08d0f80cad1fd6c951dda715e8440495e16')))
    # print(response)
    # for entry in response.entries:
    #     print(bytes.hex(entry.value))

